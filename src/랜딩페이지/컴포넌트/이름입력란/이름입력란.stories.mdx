import { Meta, Story, Canvas } from '@storybook/addon-docs';
import styled from '@emotion/styled';
import { css } from '@emotion/react';
import { useAtomValue } from 'jotai/utils';

import 이름입력란 from 'src/랜딩페이지/컴포넌트/이름입력란';
import { 신청하는사람_스토어, 신청받는사람_스토어 } from 'src/랜딩페이지/스토어/참가하는사람';
import { colors } from 'src/공통/styles';

<Meta
  title="랜딩페이지/컴포넌트/이름입력란"
  component={이름입력란}
/>

export const flexCenter = css`
  display: flex;
  align-items: center;
  justify-content: center;
`;

export const Section = styled.section`
  ${flexCenter}
  flex-direction: column;
  overflow: hidden;
  position: relative;
  padding-top: 4rem;
  padding-bottom: 4rem;
  background: ${colors.배경색};
`;

export const Name = styled.strong`
  margin: 0 1rem;
`;

export const Template = (args) => {
  const 신청하는사람 = useAtomValue(신청하는사람_스토어);
  const 신청받는사람 = useAtomValue(신청받는사람_스토어);
  return (
    <Section>
      <이름입력란 />
      <p>
        신청하는사람
        <Name>{신청하는사람}</Name>
        (인)
      </p>
      <p>
        신청받는사람
        <Name>{신청받는사람}</Name>
        (인)
      </p>
    </Section>
  );
};

<Canvas>
  <Story name="예제">
    {Template.bind({})}
  </Story>
</Canvas>
